{"version":3,"sources":["lib/sequencer.js","App.js","serviceWorker.js","index.js"],"names":["hasTouch","window","navigator","msMaxTouchPoints","context","basename_before","filename","n","last_number","split","basename_after","m","match","warn","msg","console","instances","S","opts","this","config","canvas","list","from","to","step","scaleMode","direction","playMode","loop","interval","autoLoad","fitFirstImage","showLoadedImages","dragAmount","hiDPI","length","error","c","document","createElement","body","appendChild","pointer","x","y","down","current","images","directionSign","test","lastLoaded","pongSign","ctx","getContext","first","last","every","out","a","b","before","after","has_leading_zeroes","charAt","num_a","parseInt","num_b","i","push","padStart","parse","size","width","height","Preloader","shift","imageLoad","bind","load","log","queueComplete","_move","_down","_up","addEventListener","absoluteMove","relativeMove","pointerDown","pointerUp","pt","requestAnimationFrame","t","dt","nextImage","Math","max","drawImage","id","undefined","iw","ih","r","devicePixelRatio","cw","ch","ca","img","ia","ox","oy","save","scale","clearRect","restore","w","h","resize","imageWidth","originalWidth","imageHeight","originalHeight","ratio","min","innerWidth","innerHeight","parentElement","style","marginTop","marginLeft","querySelectorAll","forEach","el","self","e","sequencer","run","touches","pageX","target","offsetLeft","pageY","offsetTop","offsetX","offsetY","currentId","dist","floor","preventDefault","getBoundingClientRect","round","clientX","clientY","v","onSelect","arrayToPopulate","fileList","imageLoadCallback","queueCompleteCallbak","concurrentLoads","count","loadNext","Image","src","onload","total","onerror","make","cfg","s","SRC","mgyon","initialFrame","initialHour","initialMinute","finalFrame","finalHour","finalMinute","generateList","filter","eIdx","photoId","thunder","drone","path","start","end","exceptions","Array","fill","map","elIdx","includes","getTime","initialTime","finalTime","frameTime","hour","slice","minute","second","deciSecond","parseTime","Slide","props","React","useState","started","setStarted","name","active","onLoad","onScreen","loading","setLoading","sequence","setSequence","setLoad","setCurrent","useEffect","options","newSequence","Sequencer","querySelector","className","transform","key","Number","toFixed","App","loadedSlide","setLoadedSlide","currentSlide","setCurrentSlide","globalResize","setTimeout","mySwiper","Swiper","mousewheel","classList","add","on","currentClass","remove","Object","keys","activeIndex","href","Boolean","location","hostname","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ce761be7.chunk.js","sourcesContent":["const hasTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints;\n\nconst PADDING_VERTICAL = 92;\nconst PADDING_HORIZONTAL = 16;\n\nvar context = {\n  hasTouch\n};\n\n// Returns an array of strings parsed from two filenames like\n// first : DSC00998.jpg\n// last  : DSC01112.jpg\n// by extracting the base name, the number (with or without leading zeros),\n// the extension, etc.\n// An optional step parameter can be passed; it defaults to 1.\n// Returns an empty array and a warning in the console\n// if the parsing wasn't successful.\nfunction parse(first, last, every = 1) {\n  // The output array to populate\n  const out = [];\n\n  const a = last_number(first);\n  if (a === '') {\n    warn('the first filename doesn’t contain a number.');\n    return out;\n  }\n\n  const b = last_number(last);\n  if (b === '') {\n    warn('the last filename doesn’t contain a number.');\n    return out;\n  }\n\n  const before = basename_before(first);\n  const after = basename_after(first);\n  if (before != basename_before(last) || after != basename_after(last)) {\n    warn(\"the base-names of '\" + first + \"' and '\" + last + \"' don’t match.\");\n    return out;\n  }\n\n  const has_leading_zeroes = a.charAt(0) == 0 || b.charAt(0) == 0;\n  if (has_leading_zeroes && a.length != b.length) {\n    warn('wrong number of leading zeros.');\n    return out;\n  }\n\n  const num_a = parseInt(a);\n  const num_b = parseInt(b);\n\n  if (has_leading_zeroes) {\n    for (let i = num_a; i < num_b; i += every) {\n      out.push(before + (i + '').padStart(a.length, '0') + after);\n    }\n  } else {\n    for (let i = num_a; i < num_b; i += every) {\n      out.push(before + i + after);\n    }\n  }\n\n  return out;\n}\n\n// Returns the part of a string before the last found number\n// Returns an empty string if no number is present\n// basename_before('folder32/98.jpg') \"folder32/\"\n// basename_before('abc.jpg') \"\"\nfunction basename_before(filename) {\n  const n = last_number(filename);\n  if (n === '') return '';\n  return filename.split(n)[0];\n}\n\n// Returns the part of a string after the last found number\n// Returns the string if no number is present\n// This allows to reconstruct a valid filename width:\n// basename_before() + last_number() + basename_after()\n// even if non number is present.\n// basename_after('folder32/98.jpg') \".jpg\"\n// basename_after('abc.jpg') \"abc.jpg\"\nfunction basename_after(filename) {\n  const n = last_number(filename);\n  if (n === '') return filename;\n  return filename.split(n)[1];\n}\n\n// Returns the last positive number in a string (with leading zeros)\n// Returns an empty string if no number is present\n// last_number('folder32/98.jpg') \"98\"\n// last_number('abc.jpg') \"\"\nfunction last_number(filename) {\n  const m = filename.match(/\\d+(?!.*\\d)/g);\n  if (m === null) return '';\n  return m[0];\n}\n\nfunction warn(msg) {\n  console.warn('Can’t parse the file sequence correctly, returning [].\\nReason: ' + msg);\n}\n\n/**\n * Sequencer - A fast(?) fullscreen image-sequence player.\n * See README or visit github (link below) for details.\n * @copyright 2012-20\n * @version 3.0.0b\n * @author Andreas Gysin\n *         https://ertdfgcvb.xyz\n *         https://github.com/ertdfgcvb/Sequencer\n */\n\nconst instances = [];\n\nfunction make(cfg) {\n  const s = new S(cfg);\n  if (s !== false) instances.push(s);\n  return s;\n}\n\nclass S {\n  constructor(opts) {\n    const defaults = {\n      canvas: null,\n      list: [],\n      from: '',\n      to: '',\n      step: 1, // increment: to load only even images use 2, etc\n      scaleMode: 'cover', // as in CSS3, can be: auto, cover, contain\n      direction: 'x', // mouse direction, can be x, -x, y, -y, applies only if playMode is 'drag' or 'hover'\n      playMode: 'drag', // none, drag, hover, auto    TODO: remove auto, add loop, pong, once\n      loop: 'loop', // loop, pong or none         TODO: remove\n      interval: 0, // interval in milliseconds between each frame, applies only if playMode is 'auto'\n      autoLoad: 'all', // all, first, none: triggers the loading of the queue immediatly, can be disabled to be triggered in a different moment\n      fitFirstImage: false, // resizes the canvas to the size of the first loaded image in the sequence\n      showLoadedImages: false, // don't display images while loading\n      dragAmount: 10,\n      hiDPI: true\n    };\n\n    this.config = { ...defaults, ...opts };\n\n    if (this.config.from == '' && this.config.to == '' && this.config.list.length == 0) {\n      console.error('Missing filenames.');\n      return false;\n    }\n\n    // create a default canvas in case none is added:\n    if (this.config.canvas === null) {\n      const c = document.createElement('canvas');\n      document.body.appendChild(c);\n      this.config.canvas = c;\n      this.config.fitFirstImage = true;\n    }\n\n    this.pointer = { x: 0, y: 0, down: false };\n    this.current = -1;\n    this.images = [];\n    this.directionSign = /-/.test(this.config.direction) ? -1 : 1;\n    this.lastLoaded = -1;\n    this.pongSign = 1;\n    this.ctx = this.config.canvas.getContext('2d');\n    // Take the provided list or build one with 'from' and 'to'\n    this.list =\n      this.config.list.length > 0 ? this.config.list : parse(this.config.from, this.config.to, this.config.step);\n\n    this.size(this.ctx.canvas.width, this.ctx.canvas.height);\n\n    if (this.config.autoLoad == 'first') {\n      new Preloader(this.images, [this.list.shift()], imageLoad.bind(null, this));\n    } else if (this.config.autoLoad == 'all') {\n      this.load();\n    }\n  }\n\n  load() {\n    this.load = function () {\n      console.log('load() can be called only once.');\n    };\n\n    new Preloader(this.images, this.list, imageLoad.bind(null, this), queueComplete.bind(null, this));\n  }\n\n  run() {\n    const _move = context.hasTouch ? 'touchmove' : 'mousemove';\n    const _down = context.hasTouch ? 'touchstart' : 'mousedown';\n    const _up = context.hasTouch ? 'touchend' : 'mouseup';\n\n    if (this.config.playMode === 'hover') {\n      this.ctx.canvas.addEventListener(_move, absoluteMove.bind(null, this));\n    } else if (this.config.playMode === 'drag') {\n      this.ctx.canvas.addEventListener(_move, relativeMove.bind(null, this));\n      this.ctx.canvas.addEventListener(_down, pointerDown.bind(null, this));\n      document.addEventListener(_up, pointerUp.bind(null, this));\n    } else if (this.config.playMode === 'auto') {\n      let pt = 0;\n      const loop = (t) => {\n        const dt = t - pt;\n        if (dt >= this.config.interval) {\n          this.nextImage();\n          pt = Math.max(t, t - (dt - this.config.interval));\n        }\n        requestAnimationFrame(loop);\n      };\n      requestAnimationFrame(loop);\n    }\n  }\n\n  nextImage(loop) {\n    if (!loop) loop = this.config.loop;\n    if (loop === 'pong') {\n      this.current += this.pongSign;\n      if (this.current >= this.images.length - 1) {\n        //this.current could ev. change by other playmodes, so extra-checks are necessary\n        this.pongSign = -1;\n        this.current = this.images.length - 1;\n      } else if (this.current <= 0) {\n        this.pongSign = 1;\n        this.current = 0;\n      }\n      this.drawImage(this.current);\n    } else {\n      this.drawImage(++this.current % this.images.length); //loop\n    }\n  }\n\n  drawImage(id) {\n    if (id === undefined) id = this.current;\n    if (id < 0 || id >= this.images.length) return;\n    const r = this.config.hiDPI ? Math.max(window.devicePixelRatio, 2) : 1;\n    const cw = this.ctx.canvas.width / r;\n    const ch = this.ctx.canvas.height / r;\n    const ca = cw / ch;\n    const img = this.images[id];\n    const ia = img.width / img.height;\n\n    // console.log(this.config);\n\n    // const ia = this.config.originalWidth / this.config.originalHeight;\n    let iw, ih;\n\n    if (this.config.scaleMode == 'cover') {\n      if (ca > ia) {\n        iw = cw;\n        ih = iw / ia;\n      } else {\n        ih = ch;\n        iw = ih * ia;\n      }\n    } else if (this.config.scaleMode == 'contain') {\n      if (ca < ia) {\n        iw = cw;\n        ih = iw / ia;\n      } else {\n        ih = ch;\n        iw = ih * ia;\n      }\n    } else {\n      //this.config.scaleMode == 'auto'\n      iw = img.width;\n      ih = img.height;\n    }\n\n    const ox = cw / 2 - iw / 2;\n    const oy = ch / 2 - ih / 2;\n\n    this.ctx.save();\n    this.ctx.scale(r, r);\n    this.ctx.clearRect(0, 0, cw, ch); // support for images with alpha\n    this.ctx.drawImage(img, 0, 0, img.width, img.height, ~~ox, ~~oy, ~~iw, ~~ih);\n    this.ctx.restore();\n  }\n\n  size(w, h, resize) {\n    // w = 720;\n    // h = 1080;\n\n    const imageWidth = this.config.originalWidth;\n    const imageHeight = this.config.originalHeight;\n    const ratio = Math.min(\n      (window.innerWidth - PADDING_HORIZONTAL) / imageWidth,\n      (window.innerHeight - PADDING_VERTICAL) / imageHeight\n    );\n\n    const width = ratio * imageWidth;\n    const height = ratio * imageHeight;\n\n    this.config.canvas.parentElement.parentElement.style.marginTop = `${parseInt((window.innerHeight - height) / 2)}px`;\n    this.config.canvas.parentElement.parentElement.style.marginLeft = `${parseInt((window.innerWidth - width) / 2)}px`;\n\n    w = width;\n    h = height;\n\n    const r = this.config.hiDPI ? Math.max(window.devicePixelRatio, 2) : 1;\n    const c = this.ctx.canvas;\n    c.width = w * r;\n    c.height = h * r;\n    c.style.width = w + 'px';\n    c.style.height = h + 'px';\n\n    this.drawImage();\n\n    if (resize) {\n      window.requestAnimationFrame(() => {\n        document.querySelectorAll('.note').forEach((el) => {\n          el.style.height = `${parseInt((window.innerHeight - height) / 2)}px`;\n        });\n      });\n    }\n  }\n}\n\n// -- Callback functions for the sequencer object -----------------------------------\n\nfunction imageLoad(self, e) {\n  if (e.id > self.lastLoaded && self.config.showLoadedImages) {\n    // to not have a back and forward hickup… but some images will be skipped\n    self.drawImage(e.id);\n    self.lastLoaded = e.id;\n  }\n\n  if (typeof self.config.imageLoad === 'function') {\n    e.sequencer = self;\n    self.config.imageLoad(e);\n  }\n\n  if (typeof self.imageLoad === 'function') {\n    e.sequencer = self;\n    self.imageLoad(e);\n  }\n\n  // The canvas size is determined and set from the first image loaded:\n  if (e.id === 0) {\n    if (self.config.fitFirstImage) {\n      self.size(e.img.width, e.img.height);\n      self.config.fitFirstImage = false;\n    }\n    self.drawImage(0);\n    self.current = 0; // TODO: could be better\n  }\n}\n\nfunction queueComplete(self, e) {\n  if (typeof self.config.queueComplete === 'function') {\n    e.sequencer = self;\n    self.config.queueComplete(e);\n  }\n\n  if (typeof self.queueComplete === 'function') {\n    self.queueComplete(e);\n  }\n\n  self.run();\n  if (!self.config.showLoadedImages && self.config.playMode !== 'none') {\n    self.drawImage(0);\n  }\n}\n\nfunction pointerDown(self, e) {\n  let ox, oy;\n  if (e.touches) {\n    ox = e.touches[0].pageX - e.touches[0].target.offsetLeft;\n    oy = e.touches[0].pageY - e.touches[0].target.offsetTop;\n  } else {\n    ox = e.offsetX;\n    oy = e.offsetY;\n  }\n\n  self.pointer = {\n    x: ox,\n    y: oy,\n    down: true,\n    currentId: self.current // TODO: this is a hack and needs a better solution...\n  };\n}\n\nfunction pointerUp(self, e) {\n  self.pointer.down = false;\n}\n\nfunction relativeMove(self, e) {\n  if (!self.pointer.down) return;\n\n  const t = self.images.length;\n\n  let ox, oy;\n  if (e.touches) {\n    ox = e.touches[0].pageX - e.touches[0].target.offsetLeft;\n    oy = e.touches[0].pageY - e.touches[0].target.offsetTop;\n  } else {\n    ox = e.offsetX;\n    oy = e.offsetY;\n  }\n\n  let dist = 0;\n  if (/x/.test(self.config.direction)) {\n    dist = (ox - self.pointer.x) * self.directionSign;\n  } else if (/y/.test(self.config.direction)) {\n    dist = (oy - self.pointer.y) * self.directionSign;\n  }\n\n  let id = self.pointer.currentId + Math.floor(dist / self.config.dragAmount);\n  if (id < 0) id = t - (-id % t);\n  else if (id > t) id = id % t;\n\n  if (id != self.current) {\n    self.drawImage(id);\n    self.current = id;\n  }\n\n  // remove bounce on mobile\n  e.preventDefault();\n}\n\nfunction constrain(v, a, b) {\n  if (v < a) return a;\n  if (v > b) return b;\n  return v;\n}\n\nfunction absoluteMove(self, e) {\n  const t = self.images.length;\n  const r = self.config.hiDPI ? Math.max(window.devicePixelRatio, 2) : 1;\n\n  let ox, oy;\n  if (e.touches) {\n    const { x, y, width, height } = e.touches[0].target.getBoundingClientRect();\n\n    ox = Math.round((e.touches[0].clientX - x) * 1.04 - width * 0.02);\n    oy = Math.round((e.touches[0].clientY - y) * 1.04 - width * 0.02);\n  } else {\n    ox = e.offsetX;\n    oy = e.offsetY;\n  }\n\n  let m, w;\n  if (self.config.direction == 'x') {\n    w = self.ctx.canvas.width / r;\n    m = ox;\n  } else if (self.config.direction == '-x') {\n    w = self.ctx.canvas.width / r;\n    m = w - ox - 1;\n  } else if (self.config.direction == 'y') {\n    w = self.ctx.canvas.height / r;\n    m = oy;\n  } else if (self.config.direction == '-y') {\n    w = self.ctx.canvas.height / r;\n    m = w - oy - 1;\n  }\n\n  const id = constrain(Math.floor((m / w) * t), 0, t - 1);\n  if (id != self.current) {\n    self.drawImage(id);\n    self.current = id;\n    self.config.onSelect && self.config.onSelect(id);\n  }\n\n  // remove bounce on mobile\n  e.preventDefault();\n}\n\n// TODO: break out in own module\nfunction Preloader(arrayToPopulate, fileList, imageLoadCallback, queueCompleteCallbak) {\n  const concurrentLoads = Math.min(fileList.length, 6);\n  let current = arrayToPopulate.length - 1; // id: order in array\n  let count = arrayToPopulate.length; // count: count of image loaded... can be out of sync of id.\n  for (let i = 0; i < concurrentLoads; i++) loadNext();\n\n  function loadNext() {\n    if (current >= fileList.length - 1) return;\n    current++;\n\n    //console.log('Loading ' + fileList[current] + '...')\n    const img = new Image();\n    img.src = fileList[current];\n    (function (id) {\n      // TODO: fix\n      img.onload = (e) => {\n        if (typeof imageLoadCallback === 'function')\n          imageLoadCallback({\n            id: id,\n            img: img,\n            count: ++count,\n            total: fileList.length\n          });\n        if (count < fileList.length) {\n          loadNext();\n        }\n        if (count == fileList.length) {\n          if (typeof queueCompleteCallbak === 'function')\n            queueCompleteCallbak({\n              total: fileList.length\n            });\n        }\n      };\n      img.onerror = (e) => {\n        console.error('Error with: ' + fileList[id]);\n      };\n    })(current);\n    arrayToPopulate.push(img);\n  }\n}\n\nvar sequencer = {\n  make: make,\n  instances: instances\n};\n\nexport default sequencer;\n","import React from 'react';\nimport './App.css';\n\nimport Sequencer from './lib/sequencer.js';\nimport Swiper from 'swiper';\n\nconst hasTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints;\n\nconst SRC = {\n  mgyon: {\n    initialFrame: 6590,\n    initialHour: 17,\n    initialMinute: 16,\n\n    finalFrame: 7009,\n    finalHour: 17,\n    finalMinute: 23,\n    list: generateList(`mgyonp/DSCF`, 6591, 7009, [7000, 6764, 6825, 6732]).filter((e, eIdx) => {\n      if (e.photoId < 6590 + 30) return true;\n      if (e.photoId > 7009 - 40) return eIdx % 2 === 0;\n      return eIdx % 3 === 0;\n    })\n  },\n  thunder: {\n    initialFrame: 1887,\n    initialHour: 21,\n    initialMinute: 0,\n\n    finalFrame: 2439,\n    finalHour: 21,\n    finalMinute: 55,\n    list: generateList(`thunderp/DSCF`, 1888, 2339, []).filter((e, eIdx) => {\n      if (eIdx < 30) return true;\n      if (eIdx > 130 && eIdx < 190) return true;\n      // return eIdx % 3 === 0 || eIdx % 3 === 1;\n      return eIdx % 2 === 1;\n    })\n  },\n  drone: {\n    initialFrame: 8274,\n    initialHour: 17,\n    initialMinute: 47,\n\n    finalFrame: 8564,\n    finalHour: 17,\n    finalMinute: 52,\n    list: generateList(`dronep/DSCF`, 8310, 8554, []).filter((e, eIdx) => {\n      if (eIdx > 100 || eIdx < 10) return true;\n      return eIdx % 2 === 0;\n    })\n  }\n};\n\nfunction generateList(path, start, end, exceptions) {\n  return new Array(end - start)\n    .fill('')\n    .map((el, elIdx) => {\n      if (exceptions.includes(start + elIdx)) return null;\n      return {\n        path: `${path}${start + elIdx}.jpg`,\n        photoId: start + elIdx\n      };\n    })\n    .filter((e) => !!e);\n}\n\nfunction parseTime(frameTime) {\n  const hour = `0${Math.floor(frameTime / 60 / 60) % 24}`.slice(-2);\n  const minute = `0${Math.floor(frameTime / 60) % 60}`.slice(-2);\n  const second = `0${Math.floor(frameTime % 60)}`.slice(-2);\n  const deciSecond = `00${Math.floor((frameTime % 1) * 100)}`.slice(-2);\n\n  return `${hour}:${minute}:${second}.${deciSecond}`;\n}\n\nfunction getTime({ id, list, initialFrame, finalFrame, initialHour, initialMinute, finalHour, finalMinute }) {\n  const initialTime = (initialHour * 60 + initialMinute) * 60;\n  const finalTime = (finalHour * 60 + finalMinute) * 60;\n  const currentPhotoId = list[id].photoId;\n  const interPhotoTime = (finalTime - initialTime) / (finalFrame - initialFrame);\n  const frameTime = (currentPhotoId - initialFrame) * interPhotoTime + initialTime;\n  return parseTime(frameTime);\n}\n\nfunction Slide(props) {\n  const [started, setStarted] = React.useState(false);\n  const { name, list, height, width, active, onLoad = () => {}, onScreen } = props;\n  const [loading, setLoading] = React.useState(true);\n  const [sequence, setSequence] = React.useState(null);\n  const [load, setLoad] = React.useState([0, 1]);\n  const [current, setCurrent] = React.useState(-1);\n\n  // console.log(SRC[name].list[current] && SRC[name].list[current].photoId);\n\n  React.useEffect(() => {\n    if (!active || started) return;\n\n    setStarted(true);\n\n    const options = {\n      direction: 'x',\n      scaleMode: 'contain',\n      showLoadedImages: true,\n      playMode: 'hover',\n      originalHeight: height,\n      originalWidth: width,\n      hiDPI: false,\n      imageLoad: function (e) {\n        setLoad([Math.max(load[0], e.count), e.total]);\n      },\n      queueComplete: function (e) {\n        setLoading(false);\n        onLoad();\n      },\n      onSelect: function (id) {\n        setCurrent(id);\n      }\n    };\n\n    const newSequence = Sequencer.make({\n      ...options,\n      list: list,\n      canvas: document.querySelector(`.swiper-slide.-${name} canvas`)\n    });\n\n    window.addEventListener('resize', () => {\n      newSequence.size(null, null, onScreen);\n    });\n    newSequence.size(null, null, onScreen);\n\n    setSequence(newSequence);\n  }, [active, started]);\n\n  React.useEffect(() => {\n    onScreen && sequence && sequence.size(null, null, true);\n  }, [onScreen]);\n\n  return (\n    <div className={`swiper-slide -${name}`}>\n      <div\n        className=\"canvas-shadow\"\n        style={{\n          transform: `translatex(${-100 + (current / list.length) * 100}vw)`\n        }}\n      />\n      <div className=\"canvas-container\">\n        <div className=\"canvas-wrapper\">\n          <canvas className=\"canvas\" key=\"canvas\" />\n        </div>\n        {loading && <div className=\"info\">Loading... {Number((load[0] / load[1]) * 100).toFixed(0)}%</div>}\n        {!loading && current === -1 && <div className=\"info\">{hasTouch ? '← Scroll →' : '← Hover →'}</div>}\n        {!loading && current !== -1 && <div className=\"info -number\">{getTime({ id: current, ...SRC[name] })}</div>}\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  const [loadedSlide, setLoadedSlide] = React.useState(0);\n  const [currentSlide, setCurrentSlide] = React.useState(0);\n\n  React.useEffect(() => {\n    function globalResize() {\n      document.querySelectorAll('.swiper-slide').forEach((e) => {\n        e.style.height = `${window.innerHeight}px`;\n      });\n      document.querySelectorAll('.swiper-container').forEach((e) => {\n        e.style.height = `${window.innerHeight}px`;\n      });\n    }\n\n    window.setTimeout(() => {\n      const mySwiper = new Swiper('.swiper-container', {\n        direction: 'vertical',\n        mousewheel: true\n      });\n\n      document.body.classList.add(`-mgyon`);\n      mySwiper.on('slideChange', function () {\n        for (const currentClass of document.body.classList) {\n          // if the body class is one of the slides\n          if (currentClass.includes('-')) {\n            document.body.classList.remove(currentClass);\n          }\n        }\n\n        document.body.classList.add(`-${Object.keys(SRC)[mySwiper.activeIndex]}`);\n        setCurrentSlide(mySwiper.activeIndex);\n      });\n\n      globalResize();\n    }, 64);\n\n    globalResize();\n    window.addEventListener('resize', globalResize);\n  }, []);\n\n  React.useEffect(() => {\n    setLoadedSlide(Math.max(loadedSlide, currentSlide));\n  }, [loadedSlide, currentSlide]);\n\n  return (\n    <div className=\"swiper-container\">\n      <div className=\"swiper-wrapper\">\n        <Slide\n          active={loadedSlide >= 0}\n          onLoad={() => {\n            setLoadedSlide(Math.max(loadedSlide, 1));\n          }}\n          height={1080}\n          width={720}\n          list={SRC['mgyon'].list.map((e) => e.path)}\n          onScreen={currentSlide === 0}\n          key=\"mgyon\"\n          name=\"mgyon\"\n        />\n        <Slide\n          active={loadedSlide >= 1}\n          onLoad={() => {\n            setLoadedSlide(Math.max(loadedSlide, 2));\n          }}\n          height={1080}\n          width={720}\n          list={SRC['thunder'].list.map((e) => e.path)}\n          onScreen={currentSlide === 1}\n          key=\"thunder\"\n          name=\"thunder\"\n        />\n        <Slide\n          active={loadedSlide >= 2}\n          onLoad={() => {\n            setLoadedSlide(Math.max(loadedSlide, 3));\n          }}\n          height={720}\n          width={1080}\n          list={SRC['drone'].list.map((e) => e.path)}\n          onScreen={currentSlide === 2}\n          key=\"drone\"\n          name=\"drone\"\n        />\n      </div>\n\n      {hasTouch ? (\n        <div className=\"note -how\">Scroll the picture ⤵ to change time.</div>\n      ) : (\n        <div className=\"note -how\">Hover over the picture ⤵ to change time.</div>\n      )}\n\n      {currentSlide < 2 && <div className=\"note -more\">There is more ↓</div>}\n      {currentSlide === 2 && (\n        <div className=\"note -more\">\n          <div>\n            Photos and web by <a href=\"https://javier.xyz\">javierbyte</a>\n          </div>\n          <div>Thanks! v0.13</div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}