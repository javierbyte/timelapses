(this.webpackJsonptimelapses=this.webpackJsonptimelapses||[]).push([[0],{11:function(t,e,n){t.exports=n(18)},16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),a=n(8),r=n.n(a),c=(n(16),n(9)),s=n(2),h=n(4),d=(n(17),n(1)),l=n(5),u="ontouchstart"in window||navigator.msMaxTouchPoints;window.PADDING_TOP_DIFF=12;var p=u;function g(t){var e=m(t);return""===e?"":t.split(e)[0]}function f(t){var e=m(t);return""===e?t:t.split(e)[1]}function m(t){var e=t.match(/\d+(?!.*\d)/g);return null===e?"":e[0]}function v(t){console.warn("Can\u2019t parse the file sequence correctly, returning [].\nReason: "+t)}var w=[];var I=function(){function t(e){Object(d.a)(this,t);if(this.config=Object(s.a)(Object(s.a)({},{canvas:null,list:[],from:"",to:"",step:1,scaleMode:"cover",direction:"x",playMode:"drag",loop:"loop",interval:0,autoLoad:"all",fitFirstImage:!1,showLoadedImages:!1,dragAmount:10,hiDPI:!0}),e),""==this.config.from&&""==this.config.to&&0==this.config.list.length)return console.error("Missing filenames."),!1;if(null===this.config.canvas){var n=document.createElement("canvas");document.body.appendChild(n),this.config.canvas=n,this.config.fitFirstImage=!0}this.pointer={x:0,y:0,down:!1},this.current=-1,this.images=[],this.imagesToLoad=new Array(this.config.list.length).fill(!1),this.directionSign=/-/.test(this.config.direction)?-1:1,this.lastLoaded=-1,this.lastRendered=-1,this.pongSign=1,this.ctx=this.config.canvas.getContext("2d"),this.hasBeenInteracted=!1,this.renderSpeed=64,this.startRenderTime=(new Date).getTime(),this.list=this.config.list.length>0?this.config.list:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],o=m(t);if(""===o)return v("the first filename doesn\u2019t contain a number."),i;var a=m(e);if(""===a)return v("the last filename doesn\u2019t contain a number."),i;var r=g(t),c=f(t);if(r!=g(e)||c!=f(e))return v("the base-names of '"+t+"' and '"+e+"' don\u2019t match."),i;var s=0==o.charAt(0)||0==a.charAt(0);if(s&&o.length!=a.length)return v("wrong number of leading zeros."),i;var h=parseInt(o),d=parseInt(a);if(s)for(var l=h;l<d;l+=n)i.push(r+(l+"").padStart(o.length,"0")+c);else for(var u=h;u<d;u+=n)i.push(r+u+c);return i}(this.config.from,this.config.to,this.config.step),this.size(this.ctx.canvas.width,this.ctx.canvas.height),"first"==this.config.autoLoad?new j(this.images,[this.list.shift()],x.bind(null,this)):"all"==this.config.autoLoad&&this.load()}return Object(l.a)(t,[{key:"load",value:function(){this.load=function(){console.log("load() can be called only once.")};var t=this;new j(this.images,this.list,x.bind(null,this),S.bind(null,this)),window.requestAnimationFrame((function e(){if(!t.hasBeenInteracted){var n=-1===t.imagesToLoad.findIndex((function(t){return!t}))?t.imagesToLoad.filter((function(t){return!!t})).length:t.imagesToLoad.findIndex((function(t){return!t})),i=t.imagesToLoad.filter((function(t){return!!t})).length,o=(new Date).getTime();if(i&&n>t.lastRendered){var a=(o-t.startRenderTime)/i;t.renderSpeed=Math.max(Math.round((t.renderSpeed+a)/2),16)+4,t.lastRendered=Math.max(t.lastRendered+1,0),t.drawImage(t.lastRendered-1)}t.lastRendered<t.config.list.length&&window.setTimeout(e,t.renderSpeed)}}))}},{key:"run",value:function(){var t=this,e=p?"touchmove":"mousemove",n=p?"touchstart":"mousedown",i=p?"touchend":"mouseup";if("hover"===this.config.playMode)this.ctx.canvas.addEventListener(e,y.bind(null,this));else if("drag"===this.config.playMode)this.ctx.canvas.addEventListener(e,D.bind(null,this)),this.ctx.canvas.addEventListener(n,F.bind(null,this)),document.addEventListener(i,C.bind(null,this));else if("auto"===this.config.playMode){var o=0;requestAnimationFrame((function e(n){var i=n-o;i>=t.config.interval&&(t.nextImage(),o=Math.max(n,n-(i-t.config.interval))),requestAnimationFrame(e)}))}}},{key:"nextImage",value:function(t){t||(t=this.config.loop),"pong"===t?(this.current+=this.pongSign,this.current>=this.images.length-1?(this.pongSign=-1,this.current=this.images.length-1):this.current<=0&&(this.pongSign=1,this.current=0),this.drawImage(this.current)):this.drawImage(++this.current%this.images.length)}},{key:"drawImage",value:function(t){if(void 0===t&&(t=this.current),!(t<0||t>=this.images.length)){var e,n,i=this.config.hiDPI?window.devicePixelRatio:1,o=this.ctx.canvas.width/i,a=this.ctx.canvas.height/i,r=o/a,c=this.images[t],s=c.width/c.height;"cover"==this.config.scaleMode?r>s?n=(e=o)/s:e=(n=a)*s:"contain"==this.config.scaleMode?r<s?n=(e=o)/s:e=(n=a)*s:(e=c.width,n=c.height);var h=o/2-e/2,d=a/2-n/2;this.ctx.save(),this.ctx.scale(i,i),this.ctx.clearRect(0,0,o,a),this.ctx.drawImage(c,0,0,c.width,c.height,~~h,~~d,~~e,~~n),this.ctx.restore()}}},{key:"size",value:function(t,e){var n=this.config.originalWidth,i=this.config.originalHeight,o=Math.min((window.innerWidth-16)/n,(window.innerHeight-108)/i),a=o*n,r=o*i;this.config.canvas.parentElement.parentElement.style.marginTop="".concat(Math.round((window.innerHeight-r)/2)-window.PADDING_TOP_DIFF,"px"),this.config.canvas.parentElement.parentElement.style.marginLeft="".concat(Math.round((window.innerWidth-a)/2),"px"),t=a,e=r;var c=this.config.hiDPI?window.devicePixelRatio:1,s=this.ctx.canvas;s.width=t*c,s.height=e*c,s.style.width=t+"px",s.style.height=e+"px",this.drawImage()}}]),t}();function x(t,e){t.imagesToLoad[e.id]=!0,e.id>t.lastLoaded&&t.config.showLoadedImages,"function"===typeof t.config.imageLoad&&(e.sequencer=t,t.config.imageLoad(e)),"function"===typeof t.imageLoad&&(e.sequencer=t,t.imageLoad(e)),0===e.id&&(t.config.fitFirstImage&&(t.size(e.img.width,e.img.height),t.config.fitFirstImage=!1),t.drawImage(0),t.current=0)}function S(t,e){"function"===typeof t.config.queueComplete&&(e.sequencer=t,t.config.queueComplete(e)),"function"===typeof t.queueComplete&&t.queueComplete(e),t.run(),t.config.showLoadedImages||"none"===t.config.playMode||t.drawImage(0)}function F(t,e){var n,i;e.touches?(n=e.touches[0].pageX-e.touches[0].target.offsetLeft,i=e.touches[0].pageY-e.touches[0].target.offsetTop):(n=e.offsetX,i=e.offsetY),t.pointer={x:n,y:i,down:!0,currentId:t.current}}function C(t,e){t.pointer.down=!1}function D(t,e){if(t.hasBeenInteracted=!0,t.pointer.down){var n,i,o=t.images.length;e.touches?(n=e.touches[0].pageX-e.touches[0].target.offsetLeft,i=e.touches[0].pageY-e.touches[0].target.offsetTop):(n=e.offsetX,i=e.offsetY);var a=0;/x/.test(t.config.direction)?a=(n-t.pointer.x)*t.directionSign:/y/.test(t.config.direction)&&(a=(i-t.pointer.y)*t.directionSign);var r=t.pointer.currentId+Math.floor(a/t.config.dragAmount);r<0?r=o- -r%o:r>o&&(r%=o),r!=t.current&&(t.drawImage(r),t.current=r),e.preventDefault()}}function y(t,e){t.hasBeenInteracted=!0;var n,i,o,a,r=t.images.length,c=t.config.hiDPI?window.devicePixelRatio:1;if(e.touches){var s=e.touches[0].target.getBoundingClientRect(),h=s.x,d=s.y,l=s.width;s.height;n=Math.round(1.04*(e.touches[0].clientX-h)-.02*l),i=Math.round(1.04*(e.touches[0].clientY-d)-.02*l)}else n=e.offsetX,i=e.offsetY;"x"==t.config.direction?(a=t.ctx.canvas.width/c,o=n):"-x"==t.config.direction?o=(a=t.ctx.canvas.width/c)-n-1:"y"==t.config.direction?(a=t.ctx.canvas.height/c,o=i):"-y"==t.config.direction&&(o=(a=t.ctx.canvas.height/c)-i-1);var u,p,g,f=(u=Math.floor(o/a*r),g=r-1,u<(p=0)?p:u>g?g:u);f!=t.current&&(t.drawImage(f),t.current=f,t.config.onSelect&&t.config.onSelect(f)),e.preventDefault()}function j(t,e,n,i){for(var o=Math.min(e.length,6),a=t.length-1,r=t.length,c=0;c<o;c++)s();function s(){if(!(a>=e.length-1)){a++;var o,c=new Image;c.src=e[a],o=a,c.onload=function(t){"function"===typeof n&&n({id:o,img:c,count:++r,total:e.length}),r<e.length&&s(),r==e.length&&"function"===typeof i&&i({total:e.length})},c.onerror=function(t){console.error("Error with: "+e[o])},t.push(c)}}}var E={make:function(t){var e=new I(t);return!1!==e&&w.push(e),e},instances:w},M=n(10),b="ontouchstart"in window||navigator.msMaxTouchPoints,N={planta:{width:720,height:1080,initialFrame:5343,initialHour:23,initialMinute:51,finalFrame:5609,finalHour:47,finalMinute:25,list:A("plant/DSCF",5344,5609,[]).filter((function(t,e){return t.photoId<5369||(t.photoId>5584||e%2===0)}))},mgyon:{width:720,height:1080,initialFrame:6590,initialHour:17,initialMinute:16,finalFrame:7009,finalHour:17,finalMinute:23,list:A("mgyonp/DSCF",6591,7009,[7e3,6764,6825,6732]).filter((function(t,e){return t.photoId<6615||(t.photoId>6984?e%2===0:e%3===0)}))},thunder:{width:720,height:1080,initialFrame:1887,initialHour:21,initialMinute:0,finalFrame:2439,finalHour:21,finalMinute:55,list:A("thunderp/DSCF",1888,2339,[]).filter((function(t,e){return e<25||(t.photoId>2309&&e<190||e%2===1)}))},drone:{width:1080,height:720,initialFrame:8274,initialHour:17,initialMinute:47,finalFrame:8564,finalHour:17,finalMinute:52,list:A("dronep/DSCF",8310,8554,[]).filter((function(t,e){return t.photoId<8320||(t.photoId>8418&&t.photoId<8425||(t.photoId>8510||e%2===0))}))},expi:{width:720,height:1080,initialFrame:2182,initialHour:1,initialMinute:10,finalFrame:2290,finalHour:1,finalMinute:13,list:[{photoId:2182,path:"exp/DSCF2182.jpg"},{photoId:2185,path:"exp/DSCF2185.jpg"},{photoId:2188,path:"exp/DSCF2188.jpg"},{photoId:2191,path:"exp/DSCF2191.jpg"},{photoId:2194,path:"exp/DSCF2194.jpg"},{photoId:2197,path:"exp/DSCF2197.jpg"},{photoId:2200,path:"exp/DSCF2200.jpg"},{photoId:2203,path:"exp/DSCF2203.jpg"},{photoId:2206,path:"exp/DSCF2206.jpg"},{photoId:2209,path:"exp/DSCF2209.jpg"},{photoId:2212,path:"exp/DSCF2212.jpg"},{photoId:2215,path:"exp/DSCF2215.jpg"},{photoId:2218,path:"exp/DSCF2218.jpg"},{photoId:2221,path:"exp/DSCF2221.jpg"},{photoId:2224,path:"exp/DSCF2224.jpg"},{photoId:2227,path:"exp/DSCF2227.jpg"},{photoId:2230,path:"exp/DSCF2230.jpg"},{photoId:2233,path:"exp/DSCF2233.jpg"},{photoId:2236,path:"exp/DSCF2236.jpg"},{photoId:2239,path:"exp/DSCF2239.jpg"},{photoId:2242,path:"exp/DSCF2242.jpg"},{photoId:2245,path:"exp/DSCF2245.jpg"},{photoId:2248,path:"exp/DSCF2248.jpg"},{photoId:2251,path:"exp/DSCF2251.jpg"},{photoId:2254,path:"exp/DSCF2254.jpg"},{photoId:2257,path:"exp/DSCF2257.jpg"},{photoId:2260,path:"exp/DSCF2260.jpg"},{photoId:2263,path:"exp/DSCF2263.jpg"},{photoId:2266,path:"exp/DSCF2266.jpg"},{photoId:2269,path:"exp/DSCF2269.jpg"},{photoId:2272,path:"exp/DSCF2272.jpg"},{photoId:2275,path:"exp/DSCF2275.jpg"},{photoId:2278,path:"exp/DSCF2278.jpg"},{photoId:2281,path:"exp/DSCF2281.jpg"},{photoId:2284,path:"exp/DSCF2284.jpg"},{photoId:2287,path:"exp/DSCF2287.jpg"},{photoId:2290,path:"exp/DSCF2290.jpg"}]}};for(var L in N)N[L].pathList=N[L].list.map((function(t){return t.path}));var T=["planta","expi","drone","mgyon","thunder"].sort((function(){return Math.random()-.5}));function A(t,e,n,i){return new Array(n-e).fill("").map((function(n,o){return i.includes(e+o)?null:{path:"".concat(t).concat(e+o,".jpg"),photoId:e+o}})).filter((function(t){return!!t}))}function H(t){var e=t.id,n=t.list,i=t.initialFrame,o=t.finalFrame,a=60*(60*t.initialHour+t.initialMinute),r=60*(60*t.finalHour+t.finalMinute);return function(t){var e="0".concat(Math.floor(t/60/60)%24).slice(-2),n="0".concat(Math.floor(t/60)%60).slice(-2),i="0".concat(Math.floor(t%60)).slice(-2),o="00".concat(Math.floor(t%1*100)).slice(-2);return"".concat(e,":").concat(n,":").concat(i,".").concat(o)}((n[e].photoId-i)*((r-a)/(o-i))+a)}function R(t){var e=o.a.useState(!1),n=Object(h.a)(e,2),i=n[0],a=n[1],r=t.name,c=t.list,d=t.height,l=t.width,u=t.active,p=t.onLoad,g=void 0===p?function(){}:p,f=o.a.useState(!0),m=Object(h.a)(f,2),v=m[0],w=m[1],I=o.a.useState([0,1]),x=Object(h.a)(I,2),S=x[0],F=x[1],C=o.a.useState(-1),D=Object(h.a)(C,2),y=D[0],j=D[1];return o.a.useEffect((function(){if(u&&!i){a(!0),window.TIME=(new Date).getTime();var t={direction:"x",scaleMode:"contain",showLoadedImages:!0,playMode:"hover",originalHeight:d,originalWidth:l,imageLoad:function(t){F([Math.max(S[0],t.count),t.total])},queueComplete:function(t){w(!1),g()},onSelect:function(t){j(t)}},e=E.make(Object(s.a)(Object(s.a)({},t),{},{list:c,canvas:document.querySelector(".swiper-slide.-".concat(r," canvas"))}));window.requestAnimationFrame((function(){e.size()})),window.INSTANCES[r]=e}}),[u,i]),o.a.createElement("div",{className:"swiper-slide -".concat(r)},o.a.createElement("div",{className:"canvas-shadow",style:{transform:"translatex(".concat(y/c.length*100-100,"vw)")}}),o.a.createElement("div",{className:"canvas-container"},o.a.createElement("div",{className:"canvas-wrapper"},o.a.createElement("canvas",{className:"canvas",key:"canvas"})),v&&o.a.createElement("div",{className:"info"},"Loading... ",Number(S[0]/S[1]*100).toFixed(0),"%"),!v&&-1===y&&o.a.createElement("div",{className:"info"},b?"\u2190 Scroll \u2192":"\u2190 Hover \u2192"),!v&&-1!==y&&o.a.createElement("div",{className:"info -number"},H(Object(s.a)({id:y},N[r])),"expi"===r&&o.a.createElement("div",{className:"small"}," +",Number(y/(c.length-1)*470).toFixed(),"% brigthness"))))}window.INSTANCES={},window.CURRENT_INSTANCE=T[0];var q=function(){var t=o.a.useState(0),e=Object(h.a)(t,2),n=e[0],i=e[1],a=o.a.useState(0),r=Object(h.a)(a,2),s=r[0],d=r[1];return o.a.useEffect((function(){function t(){for(var t in document.querySelectorAll(".swiper-slide").forEach((function(t){t.style.height="".concat(window.innerHeight,"px")})),document.querySelectorAll(".swiper-container").forEach((function(t){t.style.height="".concat(window.innerHeight,"px")})),window.INSTANCES)window.INSTANCES[t].size();var e=document.querySelector(".swiper-slide.-".concat(window.CURRENT_INSTANCE," .canvas-wrapper"));if(e){var n=e.getBoundingClientRect(),i=(n.width,n.height);document.querySelectorAll(".-note-top").forEach((function(t){t.style.height="".concat(Math.round((window.innerHeight-i)/2-window.PADDING_TOP_DIFF+2),"px")})),document.querySelectorAll(".-note-bottom").forEach((function(t){t.style.height="".concat(Math.round((window.innerHeight-i)/2+1.5*window.PADDING_TOP_DIFF),"px")}))}}window.setTimeout((function(){var e=new M.a(".swiper-container",{direction:"vertical",mousewheel:!0});document.body.classList.add("-".concat(T[e.activeIndex])),e.on("slideChange",(function(){var n,i=Object(c.a)(document.body.classList);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.includes("-")&&document.body.classList.remove(o)}}catch(a){i.e(a)}finally{i.f()}document.body.classList.add("-".concat(T[e.activeIndex])),d(e.activeIndex),window.CURRENT_INSTANCE=T[e.activeIndex],window.setTimeout(t,8)})),t()}),8),t(),window.addEventListener("resize",t)}),[]),o.a.useEffect((function(){i(Math.max(n,s))}),[s]),o.a.createElement("div",{className:"swiper-container"},o.a.createElement("div",{className:"swiper-wrapper"},T.map((function(t,e){return o.a.createElement(R,{key:t,active:n>=e,onLoad:function(){},height:N[t].height,width:N[t].width,list:N[t].pathList,name:t})}))),b?o.a.createElement("div",{className:"note -note-top -how"},"Scroll the picture \u2935 to change time."):o.a.createElement("div",{className:"note -note-top -how"},"Hover over the picture \u2935 to change time."),s<T.length-1&&o.a.createElement("div",{className:"note -note-bottom -more"},"There is more \u2193"),s===T.length-1&&o.a.createElement("div",{className:"note -note-bottom -more"},o.a.createElement("div",null,"Photos and web by ",o.a.createElement("a",{href:"https://javier.xyz"},"javierbyte")),o.a.createElement("div",null,"Thanks! v0.19")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.ef3f2783.chunk.js.map