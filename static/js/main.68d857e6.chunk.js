(this.webpackJsonptimelapses=this.webpackJsonptimelapses||[]).push([[0],{11:function(t,e,n){t.exports=n(18)},16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),a=n(8),c=n.n(a),r=(n(16),n(9)),h=n(2),s=n(4),l=(n(17),n(1)),d=n(5),p="ontouchstart"in window||navigator.msMaxTouchPoints;window.PADDING_TOP_DIFF=12;var u=p;function g(t){var e=m(t);return""===e?"":t.split(e)[0]}function f(t){var e=m(t);return""===e?t:t.split(e)[1]}function m(t){var e=t.match(/\d+(?!.*\d)/g);return null===e?"":e[0]}function v(t){console.warn("Can\u2019t parse the file sequence correctly, returning [].\nReason: "+t)}var w=[];var x=function(){function t(e){Object(l.a)(this,t);if(this.config=Object(h.a)(Object(h.a)({},{canvas:null,list:[],from:"",to:"",step:1,scaleMode:"cover",direction:"x",playMode:"drag",loop:"loop",interval:0,autoLoad:"all",fitFirstImage:!1,showLoadedImages:!1,dragAmount:10,hiDPI:!0}),e),""==this.config.from&&""==this.config.to&&0==this.config.list.length)return console.error("Missing filenames."),!1;if(null===this.config.canvas){var n=document.createElement("canvas");document.body.appendChild(n),this.config.canvas=n,this.config.fitFirstImage=!0}this.pointer={x:0,y:0,down:!1},this.current=-1,this.images=[],this.directionSign=/-/.test(this.config.direction)?-1:1,this.lastLoaded=-1,this.pongSign=1,this.ctx=this.config.canvas.getContext("2d"),this.list=this.config.list.length>0?this.config.list:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],o=m(t);if(""===o)return v("the first filename doesn\u2019t contain a number."),i;var a=m(e);if(""===a)return v("the last filename doesn\u2019t contain a number."),i;var c=g(t),r=f(t);if(c!=g(e)||r!=f(e))return v("the base-names of '"+t+"' and '"+e+"' don\u2019t match."),i;var h=0==o.charAt(0)||0==a.charAt(0);if(h&&o.length!=a.length)return v("wrong number of leading zeros."),i;var s=parseInt(o),l=parseInt(a);if(h)for(var d=s;d<l;d+=n)i.push(c+(d+"").padStart(o.length,"0")+r);else for(var p=s;p<l;p+=n)i.push(c+p+r);return i}(this.config.from,this.config.to,this.config.step),this.size(this.ctx.canvas.width,this.ctx.canvas.height),"first"==this.config.autoLoad?new j(this.images,[this.list.shift()],I.bind(null,this)):"all"==this.config.autoLoad&&this.load()}return Object(d.a)(t,[{key:"load",value:function(){this.load=function(){console.log("load() can be called only once.")},new j(this.images,this.list,I.bind(null,this),S.bind(null,this))}},{key:"run",value:function(){var t=this,e=u?"touchmove":"mousemove",n=u?"touchstart":"mousedown",i=u?"touchend":"mouseup";if("hover"===this.config.playMode)this.ctx.canvas.addEventListener(e,y.bind(null,this));else if("drag"===this.config.playMode)this.ctx.canvas.addEventListener(e,D.bind(null,this)),this.ctx.canvas.addEventListener(n,F.bind(null,this)),document.addEventListener(i,C.bind(null,this));else if("auto"===this.config.playMode){var o=0;requestAnimationFrame((function e(n){var i=n-o;i>=t.config.interval&&(t.nextImage(),o=Math.max(n,n-(i-t.config.interval))),requestAnimationFrame(e)}))}}},{key:"nextImage",value:function(t){t||(t=this.config.loop),"pong"===t?(this.current+=this.pongSign,this.current>=this.images.length-1?(this.pongSign=-1,this.current=this.images.length-1):this.current<=0&&(this.pongSign=1,this.current=0),this.drawImage(this.current)):this.drawImage(++this.current%this.images.length)}},{key:"drawImage",value:function(t){if(void 0===t&&(t=this.current),!(t<0||t>=this.images.length)){var e,n,i=this.config.hiDPI?Math.max(window.devicePixelRatio,2):1,o=this.ctx.canvas.width/i,a=this.ctx.canvas.height/i,c=o/a,r=this.images[t],h=r.width/r.height;"cover"==this.config.scaleMode?c>h?n=(e=o)/h:e=(n=a)*h:"contain"==this.config.scaleMode?c<h?n=(e=o)/h:e=(n=a)*h:(e=r.width,n=r.height);var s=o/2-e/2,l=a/2-n/2;this.ctx.save(),this.ctx.scale(i,i),this.ctx.clearRect(0,0,o,a),this.ctx.drawImage(r,0,0,r.width,r.height,~~s,~~l,~~e,~~n),this.ctx.restore()}}},{key:"size",value:function(t,e){var n=this.config.originalWidth,i=this.config.originalHeight,o=Math.min((window.innerWidth-16)/n,(window.innerHeight-108)/i),a=o*n,c=o*i;this.config.canvas.parentElement.parentElement.style.marginTop="".concat(Math.round((window.innerHeight-c)/2)-window.PADDING_TOP_DIFF,"px"),this.config.canvas.parentElement.parentElement.style.marginLeft="".concat(Math.round((window.innerWidth-a)/2),"px"),t=a,e=c;var r=this.config.hiDPI?Math.max(window.devicePixelRatio,2):1,h=this.ctx.canvas;h.width=t*r,h.height=e*r,h.style.width=t+"px",h.style.height=e+"px",this.drawImage()}}]),t}();function I(t,e){e.id>t.lastLoaded&&t.config.showLoadedImages&&(t.drawImage(e.id),t.lastLoaded=e.id),"function"===typeof t.config.imageLoad&&(e.sequencer=t,t.config.imageLoad(e)),"function"===typeof t.imageLoad&&(e.sequencer=t,t.imageLoad(e)),0===e.id&&(t.config.fitFirstImage&&(t.size(e.img.width,e.img.height),t.config.fitFirstImage=!1),t.drawImage(0),t.current=0)}function S(t,e){"function"===typeof t.config.queueComplete&&(e.sequencer=t,t.config.queueComplete(e)),"function"===typeof t.queueComplete&&t.queueComplete(e),t.run(),t.config.showLoadedImages||"none"===t.config.playMode||t.drawImage(0)}function F(t,e){var n,i;e.touches?(n=e.touches[0].pageX-e.touches[0].target.offsetLeft,i=e.touches[0].pageY-e.touches[0].target.offsetTop):(n=e.offsetX,i=e.offsetY),t.pointer={x:n,y:i,down:!0,currentId:t.current}}function C(t,e){t.pointer.down=!1}function D(t,e){if(t.pointer.down){var n,i,o=t.images.length;e.touches?(n=e.touches[0].pageX-e.touches[0].target.offsetLeft,i=e.touches[0].pageY-e.touches[0].target.offsetTop):(n=e.offsetX,i=e.offsetY);var a=0;/x/.test(t.config.direction)?a=(n-t.pointer.x)*t.directionSign:/y/.test(t.config.direction)&&(a=(i-t.pointer.y)*t.directionSign);var c=t.pointer.currentId+Math.floor(a/t.config.dragAmount);c<0?c=o- -c%o:c>o&&(c%=o),c!=t.current&&(t.drawImage(c),t.current=c),e.preventDefault()}}function y(t,e){var n,i,o,a,c=t.images.length,r=t.config.hiDPI?Math.max(window.devicePixelRatio,2):1;if(e.touches){var h=e.touches[0].target.getBoundingClientRect(),s=h.x,l=h.y,d=h.width;h.height;n=Math.round(1.04*(e.touches[0].clientX-s)-.02*d),i=Math.round(1.04*(e.touches[0].clientY-l)-.02*d)}else n=e.offsetX,i=e.offsetY;"x"==t.config.direction?(a=t.ctx.canvas.width/r,o=n):"-x"==t.config.direction?o=(a=t.ctx.canvas.width/r)-n-1:"y"==t.config.direction?(a=t.ctx.canvas.height/r,o=i):"-y"==t.config.direction&&(o=(a=t.ctx.canvas.height/r)-i-1);var p,u,g,f=(p=Math.floor(o/a*c),g=c-1,p<(u=0)?u:p>g?g:p);f!=t.current&&(t.drawImage(f),t.current=f,t.config.onSelect&&t.config.onSelect(f)),e.preventDefault()}function j(t,e,n,i){for(var o=Math.min(e.length,6),a=t.length-1,c=t.length,r=0;r<o;r++)h();function h(){if(!(a>=e.length-1)){a++;var o,r=new Image;r.src=e[a],o=a,r.onload=function(t){"function"===typeof n&&n({id:o,img:r,count:++c,total:e.length}),c<e.length&&h(),c==e.length&&"function"===typeof i&&i({total:e.length})},r.onerror=function(t){console.error("Error with: "+e[o])},t.push(r)}}}var E={make:function(t){var e=new x(t);return!1!==e&&w.push(e),e},instances:w},M=n(10),b="ontouchstart"in window||navigator.msMaxTouchPoints,N={planta:{width:720,height:1080,initialFrame:5343,initialHour:23,initialMinute:51,finalFrame:5609,finalHour:47,finalMinute:25,list:T("plant/DSCF",5344,5609,[]).filter((function(t,e){return t.photoId<5369||(t.photoId>5584||e%2===0)}))},mgyon:{width:720,height:1080,initialFrame:6590,initialHour:17,initialMinute:16,finalFrame:7009,finalHour:17,finalMinute:23,list:T("mgyonp/DSCF",6591,7009,[7e3,6764,6825,6732]).filter((function(t,e){return t.photoId<6615||(t.photoId>6984?e%2===0:e%3===0)}))},thunder:{width:720,height:1080,initialFrame:1887,initialHour:21,initialMinute:0,finalFrame:2439,finalHour:21,finalMinute:55,list:T("thunderp/DSCF",1888,2339,[]).filter((function(t,e){return e<25||(t.photoId>2309&&e<190||e%2===1)}))},drone:{width:1080,height:720,initialFrame:8274,initialHour:17,initialMinute:47,finalFrame:8564,finalHour:17,finalMinute:52,list:T("dronep/DSCF",8310,8554,[]).filter((function(t,e){return t.photoId<8320||(t.photoId>8418&&t.photoId<8425||(t.photoId>8510||e%2===0))}))},expi:{width:720,height:1080,initialFrame:2182,initialHour:1,initialMinute:10,finalFrame:2290,finalHour:1,finalMinute:13,list:[{photoId:2182,path:"exp/DSCF2182.jpg"},{photoId:2185,path:"exp/DSCF2185.jpg"},{photoId:2188,path:"exp/DSCF2188.jpg"},{photoId:2191,path:"exp/DSCF2191.jpg"},{photoId:2194,path:"exp/DSCF2194.jpg"},{photoId:2197,path:"exp/DSCF2197.jpg"},{photoId:2200,path:"exp/DSCF2200.jpg"},{photoId:2203,path:"exp/DSCF2203.jpg"},{photoId:2206,path:"exp/DSCF2206.jpg"},{photoId:2209,path:"exp/DSCF2209.jpg"},{photoId:2212,path:"exp/DSCF2212.jpg"},{photoId:2215,path:"exp/DSCF2215.jpg"},{photoId:2218,path:"exp/DSCF2218.jpg"},{photoId:2221,path:"exp/DSCF2221.jpg"},{photoId:2224,path:"exp/DSCF2224.jpg"},{photoId:2227,path:"exp/DSCF2227.jpg"},{photoId:2230,path:"exp/DSCF2230.jpg"},{photoId:2233,path:"exp/DSCF2233.jpg"},{photoId:2236,path:"exp/DSCF2236.jpg"},{photoId:2239,path:"exp/DSCF2239.jpg"},{photoId:2242,path:"exp/DSCF2242.jpg"},{photoId:2245,path:"exp/DSCF2245.jpg"},{photoId:2248,path:"exp/DSCF2248.jpg"},{photoId:2251,path:"exp/DSCF2251.jpg"},{photoId:2254,path:"exp/DSCF2254.jpg"},{photoId:2257,path:"exp/DSCF2257.jpg"},{photoId:2260,path:"exp/DSCF2260.jpg"},{photoId:2263,path:"exp/DSCF2263.jpg"},{photoId:2266,path:"exp/DSCF2266.jpg"},{photoId:2269,path:"exp/DSCF2269.jpg"},{photoId:2272,path:"exp/DSCF2272.jpg"},{photoId:2275,path:"exp/DSCF2275.jpg"},{photoId:2278,path:"exp/DSCF2278.jpg"},{photoId:2281,path:"exp/DSCF2281.jpg"},{photoId:2284,path:"exp/DSCF2284.jpg"},{photoId:2287,path:"exp/DSCF2287.jpg"},{photoId:2290,path:"exp/DSCF2290.jpg"}]}};for(var L in N)N[L].pathList=N[L].list.map((function(t){return t.path}));var A=["planta","expi","drone","mgyon","thunder"].sort((function(){return Math.random()-.5}));function T(t,e,n,i){return new Array(n-e).fill("").map((function(n,o){return i.includes(e+o)?null:{path:"".concat(t).concat(e+o,".jpg"),photoId:e+o}})).filter((function(t){return!!t}))}function H(t){var e=t.id,n=t.list,i=t.initialFrame,o=t.finalFrame,a=60*(60*t.initialHour+t.initialMinute),c=60*(60*t.finalHour+t.finalMinute);return function(t){var e="0".concat(Math.floor(t/60/60)%24).slice(-2),n="0".concat(Math.floor(t/60)%60).slice(-2),i="0".concat(Math.floor(t%60)).slice(-2),o="00".concat(Math.floor(t%1*100)).slice(-2);return"".concat(e,":").concat(n,":").concat(i,".").concat(o)}((n[e].photoId-i)*((c-a)/(o-i))+a)}function P(t){var e=o.a.useState(!1),n=Object(s.a)(e,2),i=n[0],a=n[1],c=t.name,r=t.list,l=t.height,d=t.width,p=t.active,u=t.onLoad,g=void 0===u?function(){}:u,f=o.a.useState(!0),m=Object(s.a)(f,2),v=m[0],w=m[1],x=o.a.useState([0,1]),I=Object(s.a)(x,2),S=I[0],F=I[1],C=o.a.useState(-1),D=Object(s.a)(C,2),y=D[0],j=D[1];return o.a.useEffect((function(){if(p&&!i){a(!0);var t={direction:"x",scaleMode:"contain",showLoadedImages:!0,playMode:"hover",originalHeight:l,originalWidth:d,hiDPI:!1,imageLoad:function(t){F([Math.max(S[0],t.count),t.total])},queueComplete:function(t){w(!1),g()},onSelect:function(t){j(t)}},e=E.make(Object(h.a)(Object(h.a)({},t),{},{list:r,canvas:document.querySelector(".swiper-slide.-".concat(c," canvas"))}));window.requestAnimationFrame((function(){e.size()})),window.INSTANCES[c]=e}}),[p,i]),o.a.createElement("div",{className:"swiper-slide -".concat(c)},o.a.createElement("div",{className:"canvas-shadow",style:{transform:"translatex(".concat(y/r.length*100-100,"vw)")}}),o.a.createElement("div",{className:"canvas-container"},o.a.createElement("div",{className:"canvas-wrapper"},o.a.createElement("canvas",{className:"canvas",key:"canvas"})),v&&o.a.createElement("div",{className:"info"},"Loading... ",Number(S[0]/S[1]*100).toFixed(0),"%"),!v&&-1===y&&o.a.createElement("div",{className:"info"},b?"\u2190 Scroll \u2192":"\u2190 Hover \u2192"),!v&&-1!==y&&o.a.createElement("div",{className:"info -number"},H(Object(h.a)({id:y},N[c])),"expi"===c&&o.a.createElement("div",{className:"small"}," +",Number(y/(r.length-1)*470).toFixed(),"% brigthness"))))}window.INSTANCES={},window.CURRENT_INSTANCE=A[0];var q=function(){var t=o.a.useState(0),e=Object(s.a)(t,2),n=e[0],i=e[1],a=o.a.useState(0),c=Object(s.a)(a,2),h=c[0],l=c[1];return o.a.useEffect((function(){function t(){for(var t in document.querySelectorAll(".swiper-slide").forEach((function(t){t.style.height="".concat(window.innerHeight,"px")})),document.querySelectorAll(".swiper-container").forEach((function(t){t.style.height="".concat(window.innerHeight,"px")})),window.INSTANCES)window.INSTANCES[t].size();var e=document.querySelector(".swiper-slide.-".concat(window.CURRENT_INSTANCE," .canvas-wrapper"));if(e){var n=e.getBoundingClientRect(),i=(n.width,n.height);document.querySelectorAll(".-note-top").forEach((function(t){t.style.height="".concat(Math.round((window.innerHeight-i)/2-window.PADDING_TOP_DIFF+2),"px")})),document.querySelectorAll(".-note-bottom").forEach((function(t){t.style.height="".concat(Math.round((window.innerHeight-i)/2+1.5*window.PADDING_TOP_DIFF),"px")}))}}window.setTimeout((function(){var e=new M.a(".swiper-container",{direction:"vertical",mousewheel:!0});document.body.classList.add("-".concat(A[e.activeIndex])),e.on("slideChange",(function(){var n,i=Object(r.a)(document.body.classList);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.includes("-")&&document.body.classList.remove(o)}}catch(a){i.e(a)}finally{i.f()}document.body.classList.add("-".concat(A[e.activeIndex])),l(e.activeIndex),window.CURRENT_INSTANCE=A[e.activeIndex],window.setTimeout(t,8)})),t()}),8),t(),window.addEventListener("resize",t)}),[]),o.a.useEffect((function(){i(Math.max(n,h))}),[h]),o.a.createElement("div",{className:"swiper-container"},o.a.createElement("div",{className:"swiper-wrapper"},A.map((function(t,e){return o.a.createElement(P,{key:t,active:n>=e,onLoad:function(){},height:N[t].height,width:N[t].width,list:N[t].pathList,name:t})}))),b?o.a.createElement("div",{className:"note -note-top -how"},"Scroll the picture \u2935 to change time."):o.a.createElement("div",{className:"note -note-top -how"},"Hover over the picture \u2935 to change time."),h<A.length-1&&o.a.createElement("div",{className:"note -note-bottom -more"},"There is more \u2193"),h===A.length-1&&o.a.createElement("div",{className:"note -note-bottom -more"},o.a.createElement("div",null,"Photos and web by ",o.a.createElement("a",{href:"https://javier.xyz"},"javierbyte")),o.a.createElement("div",null,"Thanks! v0.19")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.68d857e6.chunk.js.map